# 2D Gaussian Wave Packet Configuration - Angled wave (Fourier basis)
# Tests 2D Fourier basis with a low-amplitude wave traveling at an angle

problem:
  name: "gaussian_wave2d"
  description: "2D Gaussian wave packet traveling at an angle - Fourier basis (low amplitude)"

# Grid configuration
grid:
  Nx: 64                    # More modes for better resolution
  Ny: 64                    # More modes for better resolution
  Lx: 1.0                   # Domain length in x
  Ly: 1.0                   # Domain length in y
  basis_x: "fourier"        # Use Fourier basis in x
  basis_y: "fourier"        # Use Fourier basis in y
  bc: "periodic"            # Periodic boundary conditions
  dealias: true             # Enable dealiasing for Fourier
  precision: "double"       # Use double precision

# Initial conditions
initial_conditions:
  rho0: 1.0                 # Background density
  u0: 0.0                   # Background x-velocity
  v0: 0.0                   # Background y-velocity
  p0: 1.0                   # Background pressure
  amplitude: 0.01           # Very low amplitude for linear regime
  sigma: 0.05               # Wave packet width
  x0: 0.3                   # Initial x position
  y0: 0.3                   # Initial y position
  angle: 30.0               # Wave angle in degrees

# Physics
physics:
  gamma: 1.4                # Adiabatic index
  gravity:
    enabled: false          # No gravity for this test

# Integration
integration:
  t0: 0.0                   # Start time
  t_end: 2.0                # End time (longer to see full propagation)
  dt: 1e-4                  # Initial time step
  scheme: "rk4"             # 4th order Runge-Kutta
  cfl: 0.5                  # CFL number
  adaptive_dt: true         # Use adaptive time stepping
  spectral_filter:
    enabled: true           # Enable spectral filtering
    p: 8                    # Filter order
    alpha: 36.0             # Filter strength

# Artificial viscosity (small amount for stability)
artificial_viscosity:
  enabled: true
  nu_max: 1e-5              # Lower viscosity for linear regime
  s_ref: 1.0                # Reference strain rate
  s_min: 0.1                # Minimum strain rate
  p: 2.0                    # Viscosity power law
  epsilon: 1e-12            # Small number to avoid division by zero
  variable_weights:
    density: 1.0
    momentum_x: 1.0
    momentum_y: 1.0
    energy: 1.0
  sensor_variable: "density"
  diagnostic_output: false

# Output
io:
  outdir: "outputs/gaussian_wave2d_angled_fourier"
  output_interval: 0.05     # Output every 0.05 time units
  save_frames: true         # Save frames for video generation
  frames_dir: "frames"      # Subdirectory for frames

# Monitoring
monitoring:
  step_interval: 10         # Print status every 10 steps
  verbose: true             # Verbose output

# Visualization
visualization:
  create_plots: true        # Create analysis plots
  plot_interval: 0.05       # Plot every 0.05 time units
  save_plots: true          # Save plots to disk
